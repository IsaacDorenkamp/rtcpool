<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>rtcpool.pool &mdash; RTCPool 1.3.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="rtcpool.signalling" href="signalling.html" />
    <link rel="prev" title="rtcpool.media" href="media.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> RTCPool
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="media.html">rtcpool.media</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">rtcpool.pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="signalling.html">rtcpool.signalling</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RTCPool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">API Reference</a> &raquo;</li>
      <li>rtcpool.pool</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/pool.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rtcpool-pool">
<h1>rtcpool.pool<a class="headerlink" href="#rtcpool-pool" title="Permalink to this headline"></a></h1>
<dl class="js class">
<dt class="sig sig-object js" id="Pool">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="n"><span class="pre">Pool</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signaller</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool" title="Permalink to this definition"></a></dt>
<dd><p>A pool of WebRTC connections. All negotiations
are handled internally, and while RTCPeerConnections
can be directly accessed by connection ID, this
class has sufficient functionality to manage media
and data channels without directly interacting with them.</p>
<p>Create an RTC pool from a TURN/STUN config and a signaller.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_config</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">Object()</span></code></span>) – The TURN/STUN configuration.</p></li>
<li><p><strong>signaller</strong> (<span><a class="reference internal" href="signalling.html#signalling" title="signalling"><code class="xref js js-func docutils literal notranslate"><span class="pre">signalling()</span></code></a></span>) – The <a class="reference internal" href="signalling.html#signalling" title="signalling"><code class="xref js js-class docutils literal notranslate"><span class="pre">signalling()</span></code></a> channel.</p></li>
</ul>
</dd>
</dl>
<dl class="js attribute">
<dt class="sig sig-object js" id="Pool.connections">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">connections</span></span></span><a class="headerlink" href="#Pool.connections" title="Permalink to this definition"></a></dt>
<dd><p><strong>type:</strong> array</p>
<p>A list of all RTCPeerConnections, each with an additional ‘uid’ attribute
representing the ID of the endpoint that it is connected to.</p>
</dd></dl>

<dl class="js attribute">
<dt class="sig sig-object js" id="Pool.events">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">events</span></span></span><a class="headerlink" href="#Pool.events" title="Permalink to this definition"></a></dt>
<dd><p><strong>type:</strong> EventTarget</p>
<p>The interface for all events triggered by connections.
The events which are exposed and dispatched to this
EventTarget are ‘join’, ‘close’, and ‘describe.’</p>
</dd></dl>

<dl class="js attribute">
<dt class="sig sig-object js" id="Pool.id">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">id</span></span></span><a class="headerlink" href="#Pool.id" title="Permalink to this definition"></a></dt>
<dd><p><strong>type:</strong> string</p>
<p>The ID of this endpoint. Will be null if no pool has been joined successfully.</p>
</dd></dl>

<dl class="js attribute">
<dt class="sig sig-object js" id="Pool.nconnections">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">nconnections</span></span></span><a class="headerlink" href="#Pool.nconnections" title="Permalink to this definition"></a></dt>
<dd><p><strong>type:</strong> number</p>
<p>The number of connections open.</p>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.add_media">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">add_media</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">medium</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool.add_media" title="Permalink to this definition"></a></dt>
<dd><p>Add media which will be streamed/opened on all peers, current and future.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>medium</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">RTCStream|BroadcastDataChannel()</span></code></span>) – An object representing media to be broadcast.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.broadcastDataChannel">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">broadcastDataChannel</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool.broadcastDataChannel" title="Permalink to this definition"></a></dt>
<dd><p>Creates an object representing a broadcast data channel. It will open
a data channel with all existing peers, and any future peers that join.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">string()</span></code></span>) – The label to assign to the data channel(s) that are created.</p></li>
<li><p><strong>options</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">Object()</span></code></span>) – The RTCDataChannel options to create the channel with.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.close">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">close</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evt_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool.close" title="Permalink to this definition"></a></dt>
<dd><p>Closes all connections, as well as the signalling channel.
Causes a ‘close’ event to be dispatched to {this.events}</p>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.dataChannel">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">dataChannel</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool.dataChannel" title="Permalink to this definition"></a></dt>
<dd><p>Creates a one-to-one data channel with the endpoint identified
by conn_id with the given label and options.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conn_id</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">string()</span></code></span>) – The ID of the connection to create a data channel for.</p></li>
<li><p><strong>label</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">string()</span></code></span>) – The label to assign to the data channel.</p></li>
<li><p><strong>options</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">Object()</span></code></span>) – The RTCDataChannel options to create the channel with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>RTCDataChannel|null</strong> – - An RTCDataChannel to the desired endpoint, or null if the connection doesn’t exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.get_connection">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">get_connection</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool.get_connection" title="Permalink to this definition"></a></dt>
<dd><p>Gets the RTCPeerConnection associated with the specified endpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">string()</span></code></span>) – The ID of the endpoint connection to get.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>RTCPeerConnection|null</strong> – The RTCPeerConnection to the desired endpoint, or null if it does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.get_description">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">get_description</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uid</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool.get_description" title="Permalink to this definition"></a></dt>
<dd><p>Gets the description associated with the specified endpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uid</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">string()</span></code></span>) – The ID of the endpoint whose description to get.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Object|null|undefined</strong> – The description of the endpoint, null if the description is null, and undefined if the endpoint does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.get_media">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">get_media</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Pool.get_media" title="Permalink to this definition"></a></dt>
<dd><p>Internally recalculates which media should be retained, and returns the list of media.
Media which are removed are those which have been closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>array</strong> – The list of media currently being broadcast by this endpoint.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt class="sig sig-object js" id="Pool.join">
<span class="sig-prename descclassname"><span class="n"><span class="pre">Pool</span></span><span class="p"><span class="pre">.</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">join</span></span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pool.join" title="Permalink to this definition"></a></dt>
<dd><p>Sends a ‘join’ message to the signalling server to join a pool.
This method will not throw an exception, but if this endpoint is
already part of one, the signalling server will return an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool</strong> (<span><code class="xref js js-func docutils literal notranslate"><span class="pre">string()</span></code></span>) – The ID of the pool to join.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="media.html" class="btn btn-neutral float-left" title="rtcpool.media" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="signalling.html" class="btn btn-neutral float-right" title="rtcpool.signalling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Isaac Dorenkamp.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>